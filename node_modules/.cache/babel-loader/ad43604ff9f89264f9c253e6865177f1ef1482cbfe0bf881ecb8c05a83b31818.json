{"ast":null,"code":"var _jsxFileName = \"/home/proberto/Projetos/sd-031-a-project-frontend-online-store-3ff9a72c0982b7316aa23e6ecf5d970b6a3d6c5f/src/pages/Home.jsx\";\nimport { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport CategoryProduct from '../components/CategoryProduct';\nimport { getProductsFromCategoryAndQuery } from '../services/api';\nimport Categories from './Categories';\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default class Home extends Component {\n  constructor() {\n    super(...arguments);\n    this.state = {\n      productsList: [],\n      search: '',\n      productFind: false\n    };\n    this.querySearch = async () => {\n      const {\n        search\n      } = this.state;\n      const getSearch = await getProductsFromCategoryAndQuery(search);\n      if (getSearch) {\n        this.setState({\n          productsList: getSearch.results,\n          productFind: true\n        });\n      } else {\n        this.setState({\n          productFind: false\n        });\n      }\n    };\n    this.inputChange = event => {\n      const {\n        target\n      } = event;\n      const {\n        value,\n        name\n      } = target;\n      this.setState({\n        [name]: value\n      });\n    };\n    this.showCheckedList = async id => {\n      const {\n        target\n      } = id;\n      const {\n        value\n      } = target;\n      const {\n        search\n      } = this.state;\n      const response = await getProductsFromCategoryAndQuery(search, value);\n      this.setState({\n        productsList: response.results,\n        productFind: true\n      });\n    };\n  }\n  render() {\n    const {\n      productsList,\n      search,\n      productFind\n    } = this.state;\n    const empty = productsList.length === 0;\n    //  console.log(productsList);\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        name: \"\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(Link, {\n          to: \"/carrinho\",\n          \"data-testid\": \"shopping-cart-button\",\n          children: \"Carrinho de compras\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 11\n        }, this), empty && /*#__PURE__*/_jsxDEV(\"p\", {\n          \"data-testid\": \"home-initial-message\",\n          children: \"Digite algum termo de pesquisa ou escolha uma categoria.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          \"data-testid\": \"query-input\",\n          type: \"text\",\n          value: search,\n          name: \"search\",\n          onChange: this.inputChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          \"data-testid\": \"query-button\",\n          type: \"button\",\n          onClick: this.querySearch,\n          children: \"Buscar\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 11\n        }, this), productFind ? productsList.map(product => /*#__PURE__*/_jsxDEV(CategoryProduct, {\n          title: product.title,\n          thumbnail: product.thumbnail,\n          price: product.price,\n          id: product.id\n        }, product.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 15\n        }, this)) : /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Nenhum produto foi encontrado\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 16\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Categories, {\n        onClick: this.showCheckedList\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true);\n  }\n}","map":{"version":3,"names":["Component","Link","CategoryProduct","getProductsFromCategoryAndQuery","Categories","Home","state","productsList","search","productFind","querySearch","getSearch","setState","results","inputChange","event","target","value","name","showCheckedList","id","response","render","empty","length","map","product","title","thumbnail","price"],"sources":["/home/proberto/Projetos/sd-031-a-project-frontend-online-store-3ff9a72c0982b7316aa23e6ecf5d970b6a3d6c5f/src/pages/Home.jsx"],"sourcesContent":["import { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport CategoryProduct from '../components/CategoryProduct';\nimport { getProductsFromCategoryAndQuery } from '../services/api';\nimport Categories from './Categories';\n\nexport default class Home extends Component {\n  state = {\n    productsList: [],\n    search: '',\n    productFind: false,\n  };\n\n  querySearch = async () => {\n    const { search } = this.state;\n    const getSearch = await getProductsFromCategoryAndQuery(search);\n\n    if (getSearch) {\n      this.setState({\n        productsList: getSearch.results,\n        productFind: true,\n      });\n    } else {\n      this.setState({\n        productFind: false,\n      });\n    }\n  };\n\n  inputChange = (event) => {\n    const { target } = event;\n    const { value, name } = target;\n\n    this.setState({\n      [name]: value,\n    });\n  };\n\n  showCheckedList = async (id) => {\n    const { target } = id;\n    const { value } = target;\n    const { search } = this.state;\n    const response = await getProductsFromCategoryAndQuery(search, value);\n    this.setState({\n      productsList: response.results, productFind: true,\n    });\n  };\n\n  render() {\n    const { productsList, search, productFind } = this.state;\n    const empty = productsList.length === 0;\n    //  console.log(productsList);\n    return (\n      <>\n        <input type=\"text\" name=\"\" />\n        <br />\n        <div>\n          <Link\n            to=\"/carrinho\"\n            data-testid=\"shopping-cart-button\"\n          >\n            Carrinho de compras\n          </Link>\n          {empty && (\n            <p data-testid=\"home-initial-message\">\n              Digite algum termo de pesquisa ou escolha uma categoria.\n            </p>\n          )}\n          <input\n            data-testid=\"query-input\"\n            type=\"text\"\n            value={ search }\n            name=\"search\"\n            onChange={ this.inputChange }\n          />\n\n          <button\n            data-testid=\"query-button\"\n            type=\"button\"\n            onClick={ this.querySearch }\n          >\n            Buscar\n          </button>\n          {productFind\n            ? (productsList.map((product) => (\n              <CategoryProduct\n                key={ product.id }\n                title={ product.title }\n                thumbnail={ product.thumbnail }\n                price={ product.price }\n                id={ product.id }\n              />\n            )))\n            : (<p>Nenhum produto foi encontrado</p>) }\n\n        </div>\n        <Categories onClick={ this.showCheckedList } />\n      </>\n    );\n  }\n}\n"],"mappings":";AAAA,SAASA,SAAS,QAAQ,OAAO;AACjC,SAASC,IAAI,QAAQ,kBAAkB;AACvC,OAAOC,eAAe,MAAM,+BAA+B;AAC3D,SAASC,+BAA+B,QAAQ,iBAAiB;AACjE,OAAOC,UAAU,MAAM,cAAc;AAAC;AAAA;AAEtC,eAAe,MAAMC,IAAI,SAASL,SAAS,CAAC;EAAA;IAAA;IAAA,KAC1CM,KAAK,GAAG;MACNC,YAAY,EAAE,EAAE;MAChBC,MAAM,EAAE,EAAE;MACVC,WAAW,EAAE;IACf,CAAC;IAAA,KAEDC,WAAW,GAAG,YAAY;MACxB,MAAM;QAAEF;MAAO,CAAC,GAAG,IAAI,CAACF,KAAK;MAC7B,MAAMK,SAAS,GAAG,MAAMR,+BAA+B,CAACK,MAAM,CAAC;MAE/D,IAAIG,SAAS,EAAE;QACb,IAAI,CAACC,QAAQ,CAAC;UACZL,YAAY,EAAEI,SAAS,CAACE,OAAO;UAC/BJ,WAAW,EAAE;QACf,CAAC,CAAC;MACJ,CAAC,MAAM;QACL,IAAI,CAACG,QAAQ,CAAC;UACZH,WAAW,EAAE;QACf,CAAC,CAAC;MACJ;IACF,CAAC;IAAA,KAEDK,WAAW,GAAIC,KAAK,IAAK;MACvB,MAAM;QAAEC;MAAO,CAAC,GAAGD,KAAK;MACxB,MAAM;QAAEE,KAAK;QAAEC;MAAK,CAAC,GAAGF,MAAM;MAE9B,IAAI,CAACJ,QAAQ,CAAC;QACZ,CAACM,IAAI,GAAGD;MACV,CAAC,CAAC;IACJ,CAAC;IAAA,KAEDE,eAAe,GAAG,MAAOC,EAAE,IAAK;MAC9B,MAAM;QAAEJ;MAAO,CAAC,GAAGI,EAAE;MACrB,MAAM;QAAEH;MAAM,CAAC,GAAGD,MAAM;MACxB,MAAM;QAAER;MAAO,CAAC,GAAG,IAAI,CAACF,KAAK;MAC7B,MAAMe,QAAQ,GAAG,MAAMlB,+BAA+B,CAACK,MAAM,EAAES,KAAK,CAAC;MACrE,IAAI,CAACL,QAAQ,CAAC;QACZL,YAAY,EAAEc,QAAQ,CAACR,OAAO;QAAEJ,WAAW,EAAE;MAC/C,CAAC,CAAC;IACJ,CAAC;EAAA;EAEDa,MAAM,GAAG;IACP,MAAM;MAAEf,YAAY;MAAEC,MAAM;MAAEC;IAAY,CAAC,GAAG,IAAI,CAACH,KAAK;IACxD,MAAMiB,KAAK,GAAGhB,YAAY,CAACiB,MAAM,KAAK,CAAC;IACvC;IACA,oBACE;MAAA,wBACE;QAAO,IAAI,EAAC,MAAM;QAAC,IAAI,EAAC;MAAE;QAAA;QAAA;QAAA;MAAA,QAAG,eAC7B;QAAA;QAAA;QAAA;MAAA,QAAM,eACN;QAAA,wBACE,QAAC,IAAI;UACH,EAAE,EAAC,WAAW;UACd,eAAY,sBAAsB;UAAA,UACnC;QAED;UAAA;UAAA;UAAA;QAAA,QAAO,EACND,KAAK,iBACJ;UAAG,eAAY,sBAAsB;UAAA,UAAC;QAEtC;UAAA;UAAA;UAAA;QAAA,QACD,eACD;UACE,eAAY,aAAa;UACzB,IAAI,EAAC,MAAM;UACX,KAAK,EAAGf,MAAQ;UAChB,IAAI,EAAC,QAAQ;UACb,QAAQ,EAAG,IAAI,CAACM;QAAa;UAAA;UAAA;UAAA;QAAA,QAC7B,eAEF;UACE,eAAY,cAAc;UAC1B,IAAI,EAAC,QAAQ;UACb,OAAO,EAAG,IAAI,CAACJ,WAAa;UAAA,UAC7B;QAED;UAAA;UAAA;UAAA;QAAA,QAAS,EACRD,WAAW,GACPF,YAAY,CAACkB,GAAG,CAAEC,OAAO,iBAC1B,QAAC,eAAe;UAEd,KAAK,EAAGA,OAAO,CAACC,KAAO;UACvB,SAAS,EAAGD,OAAO,CAACE,SAAW;UAC/B,KAAK,EAAGF,OAAO,CAACG,KAAO;UACvB,EAAE,EAAGH,OAAO,CAACN;QAAI,GAJXM,OAAO,CAACN,EAAE;UAAA;UAAA;UAAA;QAAA,QAMnB,CAAC,gBACC;UAAA,UAAG;QAA6B;UAAA;UAAA;UAAA;QAAA,QAAK;MAAA;QAAA;QAAA;QAAA;MAAA,QAEtC,eACN,QAAC,UAAU;QAAC,OAAO,EAAG,IAAI,CAACD;MAAiB;QAAA;QAAA;QAAA;MAAA,QAAG;IAAA,gBAC9C;EAEP;AACF"},"metadata":{},"sourceType":"module","externalDependencies":[]}